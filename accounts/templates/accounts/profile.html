{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pengaturan Profil</title>
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">
</head>
<body>
    <div class="container">
        <h2>PENGATURAN PROFIL</h2>
        
        {% if messages %}
            <div class="messages">
                {% for message in messages %}
                    <div class="message {% if message.tags %}{{ message.tags }}{% endif %}">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        
        <form method="post" action="{% url 'update_profile' %}">
            {% csrf_token %}
            
            <div class="form-group">
                <label>Username: </label>
                <input type="text" name="username" value="{{ pengguna.username }}" readonly>
                <small>(tidak dapat diubah)</small>
            </div>
            
            <div class="form-group">
                <label>Email: </label>
                <input type="email" name="email" value="{{ pengguna.email }}">
            </div>
            
            <div class="form-group">
                <label>Nama Depan: </label>
                <input type="text" name="nama_depan" value="{{ pengguna.nama_depan }}">
            </div>
            
            <div class="form-group">
                <label>Nama Tengah: </label>
                <input type="text" name="nama_tengah" value="{{ pengguna.nama_tengah }}" placeholder="(opsional)">
            </div>
            
            <div class="form-group">
                <label>Nama Belakang: </label>
                <input type="text" name="nama_belakang" value="{{ pengguna.nama_belakang }}">
            </div>
            
            <div class="form-group">
                <label>Nomor Telepon: </label>
                <input type="text" name="no_telepon" value="{{ pengguna.no_telepon }}">
            </div>
            
            {% if role == 'pengunjung' %}
            <div class="role-section">
                <h3>Untuk Pengunjung</h3>
                
                <div class="form-group">
                    <label>Alamat Lengkap: </label>
                    <input type="text" name="alamat" value="{{ pengunjung.alamat }}">
                </div>
                
                <div class="form-group">
                    <label>Tanggal Lahir: </label>
                    <input type="date" name="tgl_lahir" value="{{ pengunjung.tgl_lahir|date:'Y-m-d' }}">
                </div>
            </div>
            {% endif %}
            
            {% if role == 'dokter' %}
            <div class="role-section">
                <h3>Untuk Dokter Hewan</h3>
                
                <div class="form-group">
                    <label>Nomor Sertifikasi Profesional: </label>
                    <input type="text" name="no_str" value="{{ dokter.no_str }}" readonly>
                    <small>(tidak dapat diubah)</small>
                </div>
                
                <div class="form-group">
                    <label>Spesialisasi:</label>
                    <div class="checkbox-group">
                        <label>
                            <input type="checkbox" name="spesialisasi_mamalia" value="Mamalia Besar"> Mamalia Besar
                        </label>
                        <label>
                            <input type="checkbox" name="spesialisasi_reptil" value="Reptil"> Reptil
                        </label>
                        <label>
                            <input type="checkbox" name="spesialisasi_burung" value="Burung Eksotis"> Burung Eksotis
                        </label>
                        <label>
                            <input type="checkbox" name="spesialisasi_primata" value="Primata"> Primata
                        </label>
                        <label>
                            <input type="checkbox" name="spesialisasi_lainnya" value="Lainnya"> Lainnya:
                            <input type="text" name="spesialisasi_lainnya_text" placeholder="Sebutkan">
                        </label>
                    </div>
                </div>
            </div>
            {% endif %}
            
            {% if role == 'penjaga' or role == 'pelatih' or role == 'admin' %}
            <div class="role-section">
                <h3>Untuk {% if role == 'penjaga' %}Penjaga Hewan{% elif role == 'pelatih' %}Pelatih Pertunjukan{% else %}Staf Administrasi{% endif %}</h3>
                
                <div class="form-group">
                    <label>ID Staf: </label>
                    {% if role == 'penjaga' %}
                        <input type="text" value="{{ penjaga.id_staf }}" readonly>
                    {% elif role == 'pelatih' %}
                        <input type="text" value="{{ pelatih.id_staf }}" readonly>
                    {% else %}
                        <input type="text" value="{{ admin.id_staf }}" readonly>
                    {% endif %}
                    <small>(tidak dapat diubah)</small>
                </div>
            </div>
            {% endif %}
            
            <div class="buttons">
                <button type="submit" class="btn-simpan">SIMPAN</button>
                <a href="{% url 'change_password' %}" class="btn-ubah-password">UBAH PASSWORD</a>
            </div>
        </form>
    </div>
</body>
</html>